[{"/Users/macpro/Documents/article_graph/src/index.tsx":"1","/Users/macpro/Documents/article_graph/src/reducers/index.ts":"2","/Users/macpro/Documents/article_graph/src/helper/stringTypes.ts":"3","/Users/macpro/Documents/article_graph/src/helper/draw.ts":"4","/Users/macpro/Documents/article_graph/src/styles/styles.tsx":"5","/Users/macpro/Documents/article_graph/src/reducers/dataReducer.tsx":"6","/Users/macpro/Documents/article_graph/src/helper/sorting.ts":"7","/Users/macpro/Documents/article_graph/src/articles.ts":"8","/Users/macpro/Documents/article_graph/src/components/Inputs.tsx":"9","/Users/macpro/Documents/article_graph/src/components/BarChart.tsx":"10","/Users/macpro/Documents/article_graph/src/actions/dataActions.ts":"11","/Users/macpro/Documents/article_graph/src/actions/stateTypes.ts":"12","/Users/macpro/Documents/article_graph/src/components/App.tsx":"13","/Users/macpro/Documents/article_graph/src/components/QuantityInput.tsx":"14","/Users/macpro/Documents/article_graph/src/components/OrderDirectionInput.tsx":"15","/Users/macpro/Documents/article_graph/src/components/OrderTypeInput.tsx":"16"},{"size":173,"mtime":1606036773547,"results":"17","hashOfConfig":"18"},{"size":205,"mtime":1606043530928,"results":"19","hashOfConfig":"18"},{"size":139,"mtime":1606064451419,"results":"20","hashOfConfig":"18"},{"size":3477,"mtime":1606065506394,"results":"21","hashOfConfig":"18"},{"size":877,"mtime":1606387722797,"results":"22","hashOfConfig":"18"},{"size":2390,"mtime":1606383298817,"results":"23","hashOfConfig":"18"},{"size":2677,"mtime":1606236727366,"results":"24","hashOfConfig":"18"},{"size":16244540,"mtime":1606128706138,"results":"25","hashOfConfig":"18"},{"size":2562,"mtime":1606298880971,"results":"26","hashOfConfig":"18"},{"size":3872,"mtime":1606377504187,"results":"27","hashOfConfig":"18"},{"size":2049,"mtime":1606241647720,"results":"28","hashOfConfig":"18"},{"size":457,"mtime":1606244982628,"results":"29","hashOfConfig":"18"},{"size":415,"mtime":1606238771659,"results":"30","hashOfConfig":"18"},{"size":1006,"mtime":1606387621541,"results":"31","hashOfConfig":"18"},{"size":1041,"mtime":1606387560125,"results":"32","hashOfConfig":"18"},{"size":1010,"mtime":1606387591453,"results":"33","hashOfConfig":"18"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},"cqwee8",{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"41"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"44","usedDeprecatedRules":"36"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"47","messages":"48","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"53","messages":"54","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"55","messages":"56","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"57","usedDeprecatedRules":"58"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"65","messages":"66","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/macpro/Documents/article_graph/src/index.tsx",[],["71","72"],"/Users/macpro/Documents/article_graph/src/reducers/index.ts",[],"/Users/macpro/Documents/article_graph/src/helper/stringTypes.ts",[],["73","74"],"/Users/macpro/Documents/article_graph/src/helper/draw.ts",["75"],"import * as d3 from 'd3';\nimport { subArticle } from '../models/models';\nexport const draw = (shownData: Array<subArticle>, svgRef: React.RefObject<SVGSVGElement>) => {\n\n    d3.select(svgRef.current).selectAll('*').remove();\n\n    const svg = d3.select(svgRef.current),\n      margin = { top: 20, right: 20, bottom: 30, left: 40 },\n      width = +svg.attr('width') - margin.left - margin.right,\n      height = +svg.attr('height') - margin.top - margin.bottom,\n      g = svg\n        .append('g')\n        .attr('transform', 'translate(' + margin.left + ',' + margin.top + ')');\n\n    var keys = Object.keys(shownData[0]).slice(\n      0,\n      Object.keys(shownData[0]).length - 2\n    );\n\n    var x0 = d3.scaleBand().rangeRound([0, width]).paddingInner(0.1);\n\n    var x1 = d3.scaleBand().padding(0.05);\n\n    var y = d3.scaleLinear().rangeRound([height, 0]);\n\n    var z = d3\n      .scaleOrdinal()\n      .range([\n        '#98abc5',\n        '#8a89a6',\n        '#7b6888',\n        '#6b486b',\n        '#a05d56',\n        '#d0743c',\n        '#ff8c00',\n      ]);\n    x0.domain(\n      shownData.map(function (d) {\n        return d.name;\n      })\n    );\n    x1.domain(keys).rangeRound([0, x0.bandwidth()]);\n    y.domain([\n      0,\n      d3.max(shownData, function (d) {\n        return d3.max(keys, function (key) {\n          return d[key];\n        });\n      }),\n    ]).nice();\n\n    g.append('g')\n      .selectAll('g')\n      .data(shownData)\n      .enter()\n      .append('g')\n      .attr('transform', function (d) {\n        return 'translate(' + x0(d.name) + ',0)';\n      })\n      .selectAll('rect')\n      .data(function (d) {\n        let x = keys.map(function (key) {\n          return { key: key, value: d[key] as number };\n        });\n\n        return keys.map(function (key) {\n          return { key: key, value: d[key] as number };\n        });\n      })\n\n      .enter()\n      .append('rect')\n      .attr('x', function (d) {\n        return x1(d.key) as number;\n      })\n      .attr('y', function (d) {\n        return y(d.value);\n      })\n      .attr('width', x1.bandwidth())\n      .attr('height', function (d) {\n        return height - y(d.value);\n      })\n      .attr('fill', function (d) {\n        return z(d.key) as number;\n      });\n\n    g.append('g')\n      .attr('class', 'axis')\n      .attr('transform', 'translate(0,' + height + ')')\n      .call(d3.axisBottom(x0))\n      .selectAll('text')\n      .attr('y', 20)\n      .attr('transform', 'rotate(15)');\n\n    g.append('g')\n      .attr('class', 'axis')\n      .call(d3.axisLeft(y).ticks(null, 's'))\n      .append('text')\n      .attr('x', 2)\n      .attr('y', y(y.ticks().pop() as number) - 8) //a bit higher than the max bar height's top\n      .attr('dy', '0.32em')\n      .attr('fill', '#000')\n      .attr('font-weight', 'bold')\n      .attr('text-anchor', 'start')\n      .text('Frequency');\n\n    var legend = g\n      .append('g')\n      .attr('font-family', 'sans-serif')\n      .attr('font-size', 10)\n      .attr('text-anchor', 'end')\n      .selectAll('g')\n      .data(keys.slice().reverse())\n      .enter()\n      .append('g')\n      .attr('transform', function (d, i) {\n        return 'translate(0,' + i * 20 + ')';\n      });\n\n    legend\n      .append('rect')\n      .attr('x', width - 10)\n      .attr('width', 19)\n      .attr('height', 19)\n      .attr('fill', z as any);\n\n    legend\n      .append('text')\n      .attr('x', width - 15)\n      .attr('y', 9.5)\n      .attr('dy', '0.32em')\n      .text(function (d) {\n        return d;\n      });\n  };\n","/Users/macpro/Documents/article_graph/src/styles/styles.tsx",[],"/Users/macpro/Documents/article_graph/src/reducers/dataReducer.tsx",["76"],"/Users/macpro/Documents/article_graph/src/helper/sorting.ts",[],"/Users/macpro/Documents/article_graph/src/articles.ts",[],"/Users/macpro/Documents/article_graph/src/components/Inputs.tsx",["77"],"/Users/macpro/Documents/article_graph/src/components/BarChart.tsx",["78"],"import React, { useEffect, useRef } from 'react';\nimport { connect } from 'react-redux';\nimport { Dispatch } from 'redux';\nimport { AnyAction } from 'redux';\n\nimport { IRootState } from '../reducers';\nimport {\n  getNumericData,\n  setQuantity,\n  setOrderType,\n  setOrderDirection,\n} from '../actions/dataActions';\nimport { subArticle } from '../models/models';\nimport { styles } from '../styles/styles';\n//import Inputs from './Inputs';\nimport OrderDirectionInput from './OrderDirectionInput';\nimport OrderTypeInput from './OrderTypeInput';\nimport QuantityInput from './QuantityInput';\nimport { draw } from '../helper/draw';\nimport { getShown, getAlphabetic } from '../reducers/dataReducer';\n//import { cpuUsage } from 'process';\n\ninterface DispatchProps {\n  getNumericData: () => void;\n  setQuantity: (quantity: number) => void;\n  setOrderType: (orderType: string) => void;\n  setOrderDirection: (orderDirection: string) => void;\n}\ninterface StateProps {\n  allNumericData: Array<subArticle>;\n  allAlphabeticData: Array<subArticle>;\n  shownData: Array<subArticle>;\n  orderType: string;\n  orderDirection: string;\n  quantity: number;\n}\n\nexport const UnconnectedBarChart: React.FC<Props> = (props) => {\n  const svgRef = useRef<SVGSVGElement>(null);\n  const {\n    allNumericData,\n    shownData,\n    quantity,\n    orderType,\n    orderDirection,\n  } = props;\n\n  useEffect(() => {\n    if (allNumericData.length === 0) {\n      //to prevent rendering twice\n      props.getNumericData();\n    }\n  }, []);\n\n  useEffect(() => {\n    let graphSvg = document.getElementById('graph_svg')!;\n    if (graphSvg) {\n      switch (quantity) {\n        case 10:\n          graphSvg.setAttribute('width', '600');\n          break;\n        case 50:\n          graphSvg.setAttribute('width', '1800');\n          break;\n        case 100:\n          graphSvg.setAttribute('width', '3600');\n          break;\n      }\n    }\n  }, [quantity]);\n\n  useEffect(() => {\n    if (shownData.length > 0) {\n      //first render is an empty array\n      draw(shownData, svgRef);\n    }\n  }, [shownData]);\n\n  const changeQuantity = (event: any) => {\n    props.setQuantity(event.target.value);\n  };\n  const changeOrderDirection = (event: any) => {\n    props.setOrderDirection(event.target.value);\n  };\n  const changeOrderType = (event: any) => {\n    props.setOrderType(event.target.value);\n  };\n\n  return (\n    <div style={styles.main}>\n      <div style={styles.inputWrapper}>\n        <OrderDirectionInput\n          orderDirection={orderDirection}\n          changeOrderDirection={changeOrderDirection}\n        />\n        <OrderTypeInput\n          orderTypeValue={orderType}\n          changeOrderType={changeOrderType}\n        />\n        <QuantityInput\n          quantityValue={quantity}\n          handleQuantity={changeQuantity}\n        />\n      </div>\n      <svg\n        ref={svgRef}\n        data-testid=\"graph_svg\"\n        id=\"graph_svg\"\n        width=\"1800\"\n        height=\"500\"\n        style={styles.container}\n      ></svg>\n    </div>\n  );\n};\n\nexport const mapStateToProps = ({ data }: IRootState): StateProps => {\n  const { allNumericData, orderType, orderDirection, quantity } = data;\n  return {\n    allNumericData,\n    orderType,\n    orderDirection,\n    quantity,\n    allAlphabeticData: getAlphabetic(data),\n    shownData: getShown(data),\n  };\n};\n\nexport const mapDispatchToProps = (\n  dispatch: Dispatch<AnyAction>\n): DispatchProps => {\n  return {\n    getNumericData: () => {\n      dispatch(getNumericData());\n    },\n\n    setOrderDirection: (orderDirection) => {\n      dispatch(setOrderDirection(orderDirection));\n    },\n    setQuantity: (quantity) => {\n      dispatch(setQuantity(quantity));\n    },\n\n    setOrderType: (orderType) => {\n      dispatch(setOrderType(orderType));\n    },\n  };\n};\ntype Props = StateProps & DispatchProps;\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(UnconnectedBarChart);\n",["79","80"],"/Users/macpro/Documents/article_graph/src/actions/dataActions.ts",[],"/Users/macpro/Documents/article_graph/src/actions/stateTypes.ts",[],"/Users/macpro/Documents/article_graph/src/components/App.tsx",["81"],"/Users/macpro/Documents/article_graph/src/components/QuantityInput.tsx",[],"/Users/macpro/Documents/article_graph/src/components/OrderDirectionInput.tsx",[],"/Users/macpro/Documents/article_graph/src/components/OrderTypeInput.tsx",[],{"ruleId":"82","replacedBy":"83"},{"ruleId":"84","replacedBy":"85"},{"ruleId":"82","replacedBy":"86"},{"ruleId":"84","replacedBy":"87"},{"ruleId":"88","severity":1,"message":"89","line":62,"column":13,"nodeType":"90","messageId":"91","endLine":62,"endColumn":14},{"ruleId":"92","severity":1,"message":"93","line":30,"column":1,"nodeType":"94","endLine":59,"endColumn":3},{"ruleId":"88","severity":1,"message":"95","line":8,"column":10,"nodeType":"90","messageId":"91","endLine":8,"endColumn":16},{"ruleId":"96","severity":1,"message":"97","line":53,"column":6,"nodeType":"98","endLine":53,"endColumn":8,"suggestions":"99"},{"ruleId":"82","replacedBy":"100"},{"ruleId":"84","replacedBy":"101"},{"ruleId":"88","severity":1,"message":"102","line":6,"column":8,"nodeType":"90","messageId":"91","endLine":6,"endColumn":12},"no-native-reassign",["103"],"no-negated-in-lhs",["104"],["103"],["104"],"@typescript-eslint/no-unused-vars","'x' is assigned a value but never used.","Identifier","unusedVar","import/no-anonymous-default-export","Assign arrow function to a variable before exporting as module default","ExportDefaultDeclaration","'styles' is defined but never used.","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'allNumericData.length' and 'props'. Either include them or remove the dependency array. However, 'props' will change when *any* prop changes, so the preferred fix is to destructure the 'props' object outside of the useEffect call and refer to those specific props inside useEffect.","ArrayExpression",["105"],["103"],["104"],"'Perf' is defined but never used.","no-global-assign","no-unsafe-negation",{"desc":"106","fix":"107"},"Update the dependencies array to be: [allNumericData.length, props]",{"range":"108","text":"109"},[1487,1489],"[allNumericData.length, props]"]